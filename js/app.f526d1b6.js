(function(e){function t(t){for(var s,o,a=t[0],c=t[1],u=t[2],v=0,f=[];v<a.length;v++)o=a[v],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(s=!1)}s&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},r={app:0},i=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/movie-search/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},i=[],o={name:"app"},a=o,c=(n("5c0b"),n("2877")),u=Object(c["a"])(a,r,i,!1,null,null,null),l=u.exports,v=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home-container"},[n("div",{staticClass:"home-header"},[n("Search",{staticClass:"home-header__search",on:{startSearch:e.startSearch}}),n("div",{staticClass:"home-header__modes"},[n("span",[e._v("Global")]),n("div",{staticClass:"switch",class:{toFavs:e.switchedToFavs},on:{click:function(t){e.switchedToFavs=!e.switchedToFavs}}}),n("span",[e._v("My favs")])])],1),n("div",{staticClass:"home-content"},e._l(e.curMovies,(function(t,s){return n("MovieCard",{key:s,staticClass:"movie-card",attrs:{movie:t,isFavsMode:e.switchedToFavs,inFavs:e.incudedInFavs(t.imdbID)},on:{addToFavs:function(n){return e.addToFavs(t)},deleteFromFavs:function(n){return e.deleteFromFavs(t)}}})})),1)])},d=[],h=(n("4de4"),n("c740"),n("45fc"),n("4d63"),n("ac1f"),n("25f0"),{getItem:function(e){return JSON.parse(localStorage[e])},setItem:function(e,t){localStorage[e]=JSON.stringify(t)}}),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],staticClass:"search-input",attrs:{type:"text",placeholder:"Type and press Enter"},domProps:{value:e.searchText},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("startSearch",e.searchText)},input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),n("SearchIcon",{staticClass:"search-submit",on:{click:function(t){return e.$emit("startSearch",e.searchText)}}})],1)},p=[],b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M16.6667 14.6667H15.6133L15.24 14.3067C16.5467 12.7867 17.3333 10.8133 17.3333 8.66667C17.3333 3.88 13.4533 0 8.66667 0C3.88 0 0 3.88 0 8.66667C0 13.4533 3.88 17.3333 8.66667 17.3333C10.8133 17.3333 12.7867 16.5467 14.3067 15.24L14.6667 15.6133V16.6667L21.3333 23.32L23.32 21.3333L16.6667 14.6667ZM8.66667 14.6667C5.34667 14.6667 2.66667 11.9867 2.66667 8.66667C2.66667 5.34667 5.34667 2.66667 8.66667 2.66667C11.9867 2.66667 14.6667 5.34667 14.6667 8.66667C14.6667 11.9867 11.9867 14.6667 8.66667 14.6667Z",fill:"currentColor"}})])},_=[],w={name:"SearchIcon"},g=w,y=Object(c["a"])(g,b,_,!1,null,null,null),F=y.exports,M={name:"Search",components:{SearchIcon:F},data:function(){return{searchText:""}}},C=M,T=Object(c["a"])(C,m,p,!1,null,null,null),x=T.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"movie-card"},[n("div",{staticClass:"movie-info"},[n("img",{staticClass:"movie-info__poster",attrs:{src:e.movie.Poster}}),n("a",{staticClass:"movie-info__title",attrs:{href:e.imdbLink+e.movie.imdbID,title:e.movie.Title,target:"_blank"}},[e._v(e._s(e._f("truncate")(e.movie.Title)))]),n("span",{staticClass:"movie-info__year"},[e._v(e._s(e.movie.Year))]),n("span",{staticClass:"movie-info__type"},[e._v(e._s(e._f("capitalize")(e.movie.Type)))])]),!e.isFavsMode&&e.inFavs?n("button",{staticClass:"favs-added",on:{click:function(t){return e.$emit("deleteFromFavs")}}},[e._v("In favs!")]):e.isFavsMode?n("button",{staticClass:"favs-delete",on:{click:function(t){return e.$emit("deleteFromFavs")}}},[e._v("Delete")]):n("button",{staticClass:"favs-add",on:{click:function(t){return e.$emit("addToFavs")}}},[e._v("Add to favs")])])},k=[],O=(n("fb6a"),n("d3b7"),function(e){return e?(e=e.toString(),e[0].toUpperCase()+e.slice(1)):""}),I=(n("498a"),function(e){return e?(e=e.toString(),e.length>35?e.slice(0,33).trim()+"...":e):""}),j={name:"MovieCard",props:{movie:{type:Object},isFavsMode:{type:Boolean},inFavs:{type:Boolean}},data:function(){return{imdbLink:"https://www.imdb.com/title/"}},filters:{capitalize:function(e){return O(e)},truncate:function(e){return I(e)}}},$=j,P=Object(c["a"])($,S,k,!1,null,null,null),E=P.exports,D={name:"Home",components:{Search:x,MovieCard:E},data:function(){return{curMovies:[],favs:[],switchedToFavs:!1}},mounted:function(){this.favs=h.getItem("movies")||[]},methods:{startSearch:function(e){var t=this;this.switchedToFavs?this.curMovies=this.favs.filter((function(t){var n=new RegExp(e,"i");return n.test(t.Title)})):this.$store.dispatch("searchMovies",{searchText:e}).then((function(){t.curMovies=t.getFoundMovies()}))},getFoundMovies:function(){return this.$store.getters.getMovies},addToFavs:function(e){var t=this.favs.findIndex((function(t){return t.imdbID===e.imdbID}));-1===t&&this.favs.push(e)},deleteFromFavs:function(e){this.favs=this.favs.filter((function(t){return t.imdbID!==e.imdbID})),this.switchedToFavs&&(this.curMovies=this.favs)},incudedInFavs:function(e){return this.favs.some((function(t){return t.imdbID===e}))}},watch:{favs:function(e){h.setItem("movies",e)},switchedToFavs:function(e){this.curMovies=e?this.favs:this.getFoundMovies()}}},L=D,J=Object(c["a"])(L,f,d,!1,null,null,null),B=J.exports;s["a"].use(v["a"]);var H=[{path:"/",name:"Home",component:B}],N=new v["a"]({mode:"history",base:"/movie-search/",routes:H}),z=N,Z=(n("99af"),n("4160"),n("159b"),n("2f62")),A={url:"https://www.omdbapi.com/?",key:"336de05b"};s["a"].use(Z["a"]);var G=new Z["a"].Store({state:{foundMovies:[]},getters:{getMovies:function(e){return e.foundMovies}},mutations:{setMovies:function(e,t){t.forEach((function(t){e.foundMovies.push(t)}))},unsetMovies:function(e){e.foundMovies=[]}},actions:{searchMovies:function(e,t){var n=A.url.concat("s=",t.searchText,"&apikey=",A.key);return new Promise((function(t,s){fetch(n).then((function(e){return e.json()})).then((function(n){e.commit("unsetMovies"),e.commit("setMovies",n.Search),t()}))}))}}});s["a"].config.productionTip=!1,new s["a"]({router:z,store:G,render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var s=n("9c0c"),r=n.n(s);r.a},"9c0c":function(e,t,n){}});
//# sourceMappingURL=app.f526d1b6.js.map